@model AP5PW_Helpdesk.ViewModels.Order.OrderEditVM
@{
    ViewData["Title"] = "Order details";
}

<div class="card shadow-sm p-4">
    <h5 class="mb-4">@ViewData["Title"]</h5>

    <dl class="row mb-4">
        <dt class="col-sm-3 fw-semibold">Company</dt>
        <dd class="col-sm-9">@Model.CompanyName</dd>

        <dt class="col-sm-3 fw-semibold">User</dt>
        <dd class="col-sm-9">@Model.UserName</dd>

        <dt class="col-sm-3 fw-semibold">Expedition</dt>
        <dd class="col-sm-9">@Model.ExpeditionDate?.ToString("yyyy-MM-dd")</dd>

        <dt class="col-sm-3 fw-semibold">Type</dt>
        <dd class="col-sm-9">
            <span class="badge @(Model.IsBuyOrder ? "bg-success" : "bg-warning text-dark")">
                @(Model.IsBuyOrder ? "BUY" : "SELL")
            </span>
        </dd>
    </dl>

    <h6 class="fw-bold mb-3">Items</h6>

    @if (Model.Items == null || !Model.Items.Any())
    {
        <div class="alert alert-warning">This order has no items.</div>
    }
    else
    {
        <table class="table table-sm align-middle table-hover mb-4">
            <thead>
                <tr>
                    <th>Good</th>
                    <th class="text-end">Qty</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var it in Model.Items)
                {
                    <tr>
                        <td>@it.GoodName</td>
                        <td class="text-end">@it.Quantity</td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <div class="text-end">
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-gradient-blue">Edit</a>
        <a asp-action="Index" class="btn btn-gradient-gray">Back</a>
    </div>
</div>
